<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti칩n de Administrador</title>
    <link rel="stylesheet" type="text/css" href="css/contacto.css">
    
    <style>
    	#tablaUsuarios{
    		background-color: red;
    		border: 1px solid black;
    		height:200px;
    		width: auto;
    		margin-left:-140px;
    	}
    	#tablaUsuarios td{
    		border: 1px solid black;
    		padding: 2px;
    	}
    </style>

    <script type="text/javascript">
    //evento, cuando todo se alla cargado ejecuta esa funci칩n
     
    	function llamada(){
    		//como par치metro ponemos el nombre del Servlet que queremos leer
    		fetch('userManage?op=1')
    		//con la respuesta(response) del servidor la pasamos a json
    		.then(response => response.json())
    		//los datos que recibimos(data) llame a una funci칩n pintarTablaUsuarios
    		.then(data => pintarTablaUsuarios(data))
    	}//fin llamada()
    	
    	
    	function pintarTablaUsuarios(datosUsuarios){
    		console.log(datosUsuarios);
    		
    		let html = "<table id='tablaUsuarios'>";
    		html += "<h4>"+"CABECERA TABLA"+"</h4>";
    		html += "<tr><th>id</th><th>nombreUser</th><th>email</th><th>passwordUser</th>"+
    		"<th>imgUser</th><th>Permiso</th><th>descripcionPerfil</th></tr>";
    		//<th>fechaNacimiento</th>
    		
    		for(let i=0; i<datosUsuarios.length; i++){
    			html += "<tr>";
    			

    			html += "<tr><td>"+datosUsuarios[i].id+"</td>";
    			html += "<td>"+datosUsuarios[i].nombreUser+"</td>";
    			html += "<td>"+datosUsuarios[i].email+"</td>";
    			html += "<td>"+datosUsuarios[i].passwordUser+"</td>";
    			html += "<td>"+datosUsuarios[i].imgUser+"</td>";
    			html += "<td>"+datosUsuarios[i].esAdmin+"</td>";
    			
    			//html += "<td>"+datosUsuarios[i].fechaNacimiento+"</td>";
    			html += "<td>"+datosUsuarios[i].descripcionPerfil+"</td>";
   				/**/
   				
   				html += "<td><a href='userManage?id="+datosUsuarios[i].id+"&op=2'>Editar</a>"+"</td>";
   				html += "<td><a href='#' type=''>Borrar</a></td>";
    			
    			html += "</tr>";
    			
    		}//fin for
    		
    		
    		html +=  "</table>";
    		
    		document.getElementById("listado_usuarios").innerHTML = html;
    		/**/
    	}//fin pintar tabla

    window.onload = function (){
		llamada();
    }
    	
    
    
    </script>

</head>
<body>
    <div class="container">
        <header>
            <div class="logoEmpresa">
                <img alt="Logo de la Empresa" src="img/icon/nevera.png">
                <h3>Fridge 4All</h3>
                <nav class="menuContacto">
                    <ul>
                        <li><a href="inicio.html">Inicio</a></li>
                        <li><a href="profile.html">Perfil</a></li>
                        <li><a href="">Espacios</a></li>
                        <li><a href="">About</a></li>
                        <li><a href="contacto.html">Contact</a></li>
                    </ul>
                </nav>
            </div>

        </header>
        <h1>Panel Administrador</h1>

        <div id="listado_usuarios">
			en este div pintaremos cosas
            
        </div>

    </div><!--fin div container-->
    
</body>
</html>

<!--

<img alt="Pulsa para Borrar el formulario" src="img/email.png">
<img class="btnImg" alt="Enviar" src="img/email32.png"> 
 <img class="btnImg" alt="Crear cuenta" src=""> 


-->